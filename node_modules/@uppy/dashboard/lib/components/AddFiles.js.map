{"version":3,"names":["h","Component","Fragment","Symbol","for","AddFiles","triggerFileInputClick","fileInput","click","triggerFolderInputClick","folderInput","triggerVideoCameraInputClick","mobileVideoFileInput","triggerPhotoCameraInputClick","mobilePhotoFileInput","onFileInputChange","event","props","handleInputChange","target","value","renderHiddenInput","isFolder","refCallback","maxNumberOfFiles","allowedFileTypes","renderHiddenCameraInput","type","nativeCameraFacingMode","typeToAccept","photo","video","accept","renderMyDeviceAcquirer","i18n","renderPhotoCamera","renderVideoCamera","renderBrowseButton","text","onClickFn","numberOfAcquirers","acquirers","length","renderDropPasteBrowseTagline","browseFiles","browseFolders","lowerFMSelectionType","fileManagerSelectionType","camelFMSelectionType","charAt","toUpperCase","slice","disableLocalFiles","i18nArray","browse","renderAcquirer","acquirer","id","activePickerPanel","showPanel","icon","name","renderAcquirers","acquirersWithoutLastTwo","lastTwoAcquirers","splice","map","renderSourcesList","showNativePhotoCameraButton","showNativeVideoCameraButton","list","myDeviceKey","push","key","elements","hasOnlyMyDevice","listWithoutLastTwo","lastTwo","renderList","l","renderPoweredByUppy","uppyBranding","linkText","uppy","render","ref","note","proudlyDisplayPoweredByUppy"],"sources":["AddFiles.jsx"],"sourcesContent":["import { h, Component, Fragment } from 'preact'\n\nclass AddFiles extends Component {\n  triggerFileInputClick = () => {\n    this.fileInput.click()\n  }\n\n  triggerFolderInputClick = () => {\n    this.folderInput.click()\n  }\n\n  triggerVideoCameraInputClick = () => {\n    this.mobileVideoFileInput.click()\n  }\n\n  triggerPhotoCameraInputClick = () => {\n    this.mobilePhotoFileInput.click()\n  }\n\n  onFileInputChange = (event) => {\n    this.props.handleInputChange(event)\n\n    // We clear the input after a file is selected, because otherwise\n    // change event is not fired in Chrome and Safari when a file\n    // with the same name is selected.\n    // ___Why not use value=\"\" on <input/> instead?\n    //    Because if we use that method of clearing the input,\n    //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n    event.target.value = null // eslint-disable-line no-param-reassign\n  }\n\n  renderHiddenInput = (isFolder, refCallback) => {\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        webkitdirectory={isFolder}\n        type=\"file\"\n        name=\"files[]\"\n        multiple={this.props.maxNumberOfFiles !== 1}\n        onChange={this.onFileInputChange}\n        accept={this.props.allowedFileTypes}\n        ref={refCallback}\n      />\n    )\n  }\n\n  renderHiddenCameraInput = (type, nativeCameraFacingMode, refCallback) => {\n    const typeToAccept = { photo: 'image/*', video: 'video/*' }\n    const accept = typeToAccept[type]\n\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        type=\"file\"\n        name={`camera-${type}`}\n        onChange={this.onFileInputChange}\n        capture={nativeCameraFacingMode}\n        accept={accept}\n        ref={refCallback}\n      />\n    )\n  }\n\n  renderMyDeviceAcquirer = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MyDevice\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerFileInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg className=\"uppy-DashboardTab-iconMyDevice\" aria-hidden=\"true\" focusable=\"false\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n              <path d=\"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z\" fill=\"currentcolor\" fill-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('myDevice')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderPhotoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobilePhotoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerPhotoCameraInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg aria-hidden=\"true\" focusable=\"false\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n              <path d=\"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z\" fill=\"#02B383\" fill-rule=\"nonzero\" />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('takePictureBtn')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderVideoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobileVideoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerVideoCameraInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg aria-hidden=\"true\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n              <path fill=\"#FF675E\" fillRule=\"nonzero\" d=\"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z \" />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('recordVideoBtn')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderBrowseButton = (text, onClickFn) => {\n    const numberOfAcquirers = this.props.acquirers.length\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn uppy-Dashboard-browse\"\n        onClick={onClickFn}\n        data-uppy-super-focusable={numberOfAcquirers === 0}\n      >\n        {text}\n      </button>\n    )\n  }\n\n  renderDropPasteBrowseTagline = (numberOfAcquirers) => {\n    const browseFiles = this.renderBrowseButton(this.props.i18n('browseFiles'), this.triggerFileInputClick)\n    const browseFolders = this.renderBrowseButton(this.props.i18n('browseFolders'), this.triggerFolderInputClick)\n\n    // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n    // to Camel\n    const lowerFMSelectionType = this.props.fileManagerSelectionType\n    const camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1)\n\n    return (\n      <div class=\"uppy-Dashboard-AddFiles-title\">\n        {\n          // eslint-disable-next-line no-nested-ternary\n          this.props.disableLocalFiles ? this.props.i18n('importFiles')\n            : numberOfAcquirers > 0\n              ? this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, { browseFiles, browseFolders, browse: browseFiles })\n              : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, { browseFiles, browseFolders, browse: browseFiles })\n        }\n      </div>\n    )\n  }\n\n  [Symbol.for('uppy test: disable unused locale key warning')] () {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth')\n    this.props.i18nArray('dropPasteFiles')\n    this.props.i18nArray('dropPasteFolders')\n    this.props.i18nArray('dropPasteImportBoth')\n    this.props.i18nArray('dropPasteImportFiles')\n    this.props.i18nArray('dropPasteImportFolders')\n  }\n\n  renderAcquirer = (acquirer) => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id={acquirer.id}\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-cy={acquirer.id}\n          aria-controls={`uppy-DashboardContent-panel--${acquirer.id}`}\n          aria-selected={this.props.activePickerPanel.id === acquirer.id}\n          data-uppy-super-focusable\n          onClick={() => this.props.showPanel(acquirer.id)}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            {acquirer.icon()}\n          </div>\n          <div className=\"uppy-DashboardTab-name\">{acquirer.name}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderAcquirers = (acquirers) => {\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const acquirersWithoutLastTwo = [...acquirers]\n    const lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length)\n\n    return (\n      <Fragment>\n        {acquirersWithoutLastTwo.map((acquirer) => this.renderAcquirer(acquirer))}\n        <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n          {lastTwoAcquirers.map((acquirer) => this.renderAcquirer(acquirer))}\n        </span>\n      </Fragment>\n    )\n  }\n\n  renderSourcesList = (acquirers, disableLocalFiles) => {\n    const { showNativePhotoCameraButton, showNativeVideoCameraButton } = this.props\n\n    let list = []\n\n    const myDeviceKey = 'myDevice'\n\n    if (!disableLocalFiles) {\n      list.push({ key: myDeviceKey, elements: this.renderMyDeviceAcquirer() })\n      if (showNativePhotoCameraButton) list.push({ key: 'nativePhotoCameraButton', elements: this.renderPhotoCamera() })\n      if (showNativeVideoCameraButton) list.push({ key: 'nativePhotoCameraButton', elements: this.renderVideoCamera() })\n    }\n    list.push(...acquirers.map((acquirer) => ({ key: acquirer.id, elements: this.renderAcquirer(acquirer) })))\n\n    // doesn't make sense to show only a lonely \"My Device\"\n    const hasOnlyMyDevice = list.length === 1 && list[0].key === myDeviceKey\n    if (hasOnlyMyDevice) list = []\n\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const listWithoutLastTwo = [...list]\n    const lastTwo = listWithoutLastTwo.splice(list.length - 2, list.length)\n\n    const renderList = (l) => l.map(({ key, elements }) => <Fragment key={key}>{elements}</Fragment>)\n\n    return (\n      <Fragment>\n        {this.renderDropPasteBrowseTagline(list.length)}\n\n        <div className=\"uppy-Dashboard-AddFiles-list\" role=\"tablist\">\n          {renderList(listWithoutLastTwo)}\n\n          <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n            {renderList(lastTwo)}\n          </span>\n        </div>\n      </Fragment>\n    )\n  }\n\n  renderPoweredByUppy () {\n    const { i18nArray } = this.props\n\n    const uppyBranding = (\n      <span>\n        <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon uppy-Dashboard-poweredByIcon\" width=\"11\" height=\"11\" viewBox=\"0 0 11 11\">\n          <path d=\"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\" fillRule=\"evenodd\" />\n        </svg>\n        <span className=\"uppy-Dashboard-poweredByUppy\">Uppy</span>\n      </span>\n    )\n\n    const linkText = i18nArray('poweredBy', { uppy: uppyBranding })\n\n    return (\n      <a\n        tabIndex=\"-1\"\n        href=\"https://uppy.io\"\n        rel=\"noreferrer noopener\"\n        target=\"_blank\"\n        className=\"uppy-Dashboard-poweredBy\"\n      >\n        {linkText}\n      </a>\n    )\n  }\n\n  render () {\n    const {\n      showNativePhotoCameraButton,\n      showNativeVideoCameraButton,\n      nativeCameraFacingMode,\n    } = this.props\n\n    return (\n      <div className=\"uppy-Dashboard-AddFiles\">\n        {this.renderHiddenInput(false, (ref) => { this.fileInput = ref })}\n        {this.renderHiddenInput(true, (ref) => { this.folderInput = ref })}\n        {showNativePhotoCameraButton && this.renderHiddenCameraInput('photo', nativeCameraFacingMode, (ref) => { this.mobilePhotoFileInput = ref })}\n        {showNativeVideoCameraButton && this.renderHiddenCameraInput('video', nativeCameraFacingMode, (ref) => { this.mobileVideoFileInput = ref })}\n        {this.renderSourcesList(this.props.acquirers, this.props.disableLocalFiles)}\n        <div className=\"uppy-Dashboard-AddFiles-info\">\n          {this.props.note && <div className=\"uppy-Dashboard-note\">{this.props.note}</div>}\n          {this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy(this.props)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AddFiles\n"],"mappings":"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"}