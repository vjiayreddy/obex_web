{"version":3,"names":["h","Component","StopWatch","constructor","props","state","elapsedTime","wrapperStyle","width","height","display","overlayStyle","position","background","opacity","infoContainerStyle","marginLeft","marginRight","marginTop","marginBottom","zIndex","color","infotextStyle","fontSize","timeStyle","fontWeight","fontFamily","startTimer","timerTick","timerRunning","resetTimer","clearTimeout","timer","setState","setTimeout","fmtMSS","s","render","recording","i18n","minAndSec"],"sources":["StopWatch.jsx"],"sourcesContent":["import { h, Component } from 'preact'\n\nclass StopWatch extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { elapsedTime: 0 }\n\n    this.wrapperStyle = {\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n    }\n\n    this.overlayStyle = {\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      background: 'black',\n      opacity: 0.7,\n    }\n\n    this.infoContainerStyle = {\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      marginTop: 'auto',\n      marginBottom: 'auto',\n      zIndex: 1,\n      color: 'white',\n    }\n\n    this.infotextStyle = {\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      marginBottom: '1rem',\n      fontSize: '1.5rem',\n    }\n\n    this.timeStyle = {\n      display: 'block',\n      fontWeight: 'bold',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      fontSize: '3rem',\n      fontFamily: 'Courier New',\n    }\n  }\n\n  startTimer () {\n    this.timerTick()\n    this.timerRunning = true\n  }\n\n  resetTimer () {\n    clearTimeout(this.timer)\n    this.setState({ elapsedTime: 0 })\n    this.timerRunning = false\n  }\n\n  timerTick () {\n    this.timer = setTimeout(() => {\n      this.setState(state => ({ elapsedTime: state.elapsedTime + 1 }))\n      this.timerTick()\n    }, 1000)\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  fmtMSS (s) {\n    // eslint-disable-next-line no-return-assign, no-param-reassign\n    return (s - (s %= 60)) / 60 + (s > 9 ? ':' : ':0') + s\n  }\n\n  render () {\n    const { recording, i18n } = { ...this.props }\n    const { elapsedTime } = this.state\n\n    // second to minutes and seconds\n    const minAndSec = this.fmtMSS(elapsedTime)\n\n    if (recording && !this.timerRunning) {\n      this.startTimer()\n    }\n\n    if (!recording && this.timerRunning) {\n      this.resetTimer()\n    }\n\n    if (recording) {\n      return (\n        <div style={this.wrapperStyle}>\n          <div style={this.overlayStyle} />\n          <div style={this.infoContainerStyle}>\n            <div style={this.infotextStyle}>\n              {i18n('recording')}\n            </div>\n            <div style={this.timeStyle}>\n              {minAndSec}\n            </div>\n          </div>\n\n        </div>\n      )\n    }\n    return null\n  }\n}\n\nexport default StopWatch\n"],"mappings":"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"}