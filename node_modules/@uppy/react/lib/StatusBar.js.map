{"version":3,"names":["createElement","h","Component","PropTypes","StatusBarPlugin","uppy","uppyPropType","getHTMLProps","nonHtmlPropsHaveChanged","StatusBar","componentDidMount","installPlugin","componentDidUpdate","prevProps","props","uninstallPlugin","options","target","container","plugin","setOptions","componentWillUnmount","hideUploadButton","hideRetryButton","hidePauseResumeButton","hideCancelButton","showProgressDetails","hideAfterFinish","doneButtonHandler","id","use","getPlugin","removePlugin","render","className","ref","propTypes","isRequired","bool","func","defaultProps"],"sources":["StatusBar.js"],"sourcesContent":["import { createElement as h, Component } from 'react'\nimport PropTypes from 'prop-types'\nimport StatusBarPlugin from '@uppy/status-bar'\nimport { uppy as uppyPropType } from './propTypes.js'\nimport getHTMLProps from './getHTMLProps.js'\nimport nonHtmlPropsHaveChanged from './nonHtmlPropsHaveChanged.js'\n\n/**\n * React component that renders a status bar containing upload progress and speed,\n * processing progress and pause/resume/cancel controls.\n */\n\nclass StatusBar extends Component {\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    // eslint-disable-next-line react/destructuring-assignment\n    if (prevProps.uppy !== this.props.uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    } else if (nonHtmlPropsHaveChanged(this.props, prevProps)) {\n      const options = { ...this.props, target: this.container }\n      delete options.uppy\n      this.plugin.setOptions(options)\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const {\n      uppy,\n      hideUploadButton,\n      hideRetryButton,\n      hidePauseResumeButton,\n      hideCancelButton,\n      showProgressDetails,\n      hideAfterFinish,\n      doneButtonHandler,\n    } = this.props\n    const options = {\n      id: 'react:StatusBar',\n      hideUploadButton,\n      hideRetryButton,\n      hidePauseResumeButton,\n      hideCancelButton,\n      showProgressDetails,\n      hideAfterFinish,\n      doneButtonHandler,\n      target: this.container,\n    }\n    delete options.uppy\n\n    uppy.use(StatusBarPlugin, options)\n\n    this.plugin = uppy.getPlugin(options.id)\n  }\n\n  uninstallPlugin (props = this.props) {\n    const { uppy } = props\n\n    uppy.removePlugin(this.plugin)\n  }\n\n  render () {\n    return h('div', {\n      className: 'uppy-Container',\n      ref: (container) => {\n        this.container = container\n      },\n      ...getHTMLProps(this.props),\n    })\n  }\n}\n\nStatusBar.propTypes = {\n  uppy: uppyPropType.isRequired,\n  hideUploadButton: PropTypes.bool,\n  hideRetryButton: PropTypes.bool,\n  hidePauseResumeButton: PropTypes.bool,\n  hideCancelButton: PropTypes.bool,\n  showProgressDetails: PropTypes.bool,\n  hideAfterFinish: PropTypes.bool,\n  doneButtonHandler: PropTypes.func,\n}\n// Must be kept in sync with @uppy/status-bar/src/StatusBar.jsx.\nStatusBar.defaultProps = {\n  hideUploadButton: false,\n  hideRetryButton: false,\n  hidePauseResumeButton: false,\n  hideCancelButton: false,\n  showProgressDetails: false,\n  hideAfterFinish: true,\n  doneButtonHandler: null,\n}\n\nexport default StatusBar\n"],"mappings":"AAAA,SAASA,aAAa,IAAIC,CAA1B,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,eAAP,MAA4B,kBAA5B;AACA,SAASC,IAAI,IAAIC,YAAjB,QAAqC,gBAArC;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,uBAAP,MAAoC,8BAApC;AAEA;AACA;AACA;AACA;;AAEA,MAAMC,SAAN,SAAwBP,SAAxB,CAAkC;EAChCQ,iBAAiB,GAAI;IACnB,KAAKC,aAAL;EACD;;EAEDC,kBAAkB,CAAEC,SAAF,EAAa;IAC7B;IACA,IAAIA,SAAS,CAACR,IAAV,KAAmB,KAAKS,KAAL,CAAWT,IAAlC,EAAwC;MACtC,KAAKU,eAAL,CAAqBF,SAArB;MACA,KAAKF,aAAL;IACD,CAHD,MAGO,IAAIH,uBAAuB,CAAC,KAAKM,KAAN,EAAaD,SAAb,CAA3B,EAAoD;MACzD,MAAMG,OAAO,GAAG,EAAE,GAAG,KAAKF,KAAV;QAAiBG,MAAM,EAAE,KAAKC;MAA9B,CAAhB;MACA,OAAOF,OAAO,CAACX,IAAf;MACA,KAAKc,MAAL,CAAYC,UAAZ,CAAuBJ,OAAvB;IACD;EACF;;EAEDK,oBAAoB,GAAI;IACtB,KAAKN,eAAL;EACD;;EAEDJ,aAAa,GAAI;IACf,MAAM;MACJN,IADI;MAEJiB,gBAFI;MAGJC,eAHI;MAIJC,qBAJI;MAKJC,gBALI;MAMJC,mBANI;MAOJC,eAPI;MAQJC;IARI,IASF,KAAKd,KATT;IAUA,MAAME,OAAO,GAAG;MACda,EAAE,EAAE,iBADU;MAEdP,gBAFc;MAGdC,eAHc;MAIdC,qBAJc;MAKdC,gBALc;MAMdC,mBANc;MAOdC,eAPc;MAQdC,iBARc;MASdX,MAAM,EAAE,KAAKC;IATC,CAAhB;IAWA,OAAOF,OAAO,CAACX,IAAf;IAEAA,IAAI,CAACyB,GAAL,CAAS1B,eAAT,EAA0BY,OAA1B;IAEA,KAAKG,MAAL,GAAcd,IAAI,CAAC0B,SAAL,CAAef,OAAO,CAACa,EAAvB,CAAd;EACD;;EAEDd,eAAe,CAAED,KAAF,EAAsB;IAAA,IAApBA,KAAoB;MAApBA,KAAoB,GAAZ,KAAKA,KAAO;IAAA;;IACnC,MAAM;MAAET;IAAF,IAAWS,KAAjB;IAEAT,IAAI,CAAC2B,YAAL,CAAkB,KAAKb,MAAvB;EACD;;EAEDc,MAAM,GAAI;IACR,OAAOhC,CAAC,CAAC,KAAD,EAAQ;MACdiC,SAAS,EAAE,gBADG;MAEdC,GAAG,EAAGjB,SAAD,IAAe;QAClB,KAAKA,SAAL,GAAiBA,SAAjB;MACD,CAJa;MAKd,GAAGX,YAAY,CAAC,KAAKO,KAAN;IALD,CAAR,CAAR;EAOD;;AAhE+B;;AAmElCL,SAAS,CAAC2B,SAAV,GAAsB;EACpB/B,IAAI,EAAEC,YAAY,CAAC+B,UADC;EAEpBf,gBAAgB,EAAEnB,SAAS,CAACmC,IAFR;EAGpBf,eAAe,EAAEpB,SAAS,CAACmC,IAHP;EAIpBd,qBAAqB,EAAErB,SAAS,CAACmC,IAJb;EAKpBb,gBAAgB,EAAEtB,SAAS,CAACmC,IALR;EAMpBZ,mBAAmB,EAAEvB,SAAS,CAACmC,IANX;EAOpBX,eAAe,EAAExB,SAAS,CAACmC,IAPP;EAQpBV,iBAAiB,EAAEzB,SAAS,CAACoC;AART,CAAtB,C,CAUA;;AACA9B,SAAS,CAAC+B,YAAV,GAAyB;EACvBlB,gBAAgB,EAAE,KADK;EAEvBC,eAAe,EAAE,KAFM;EAGvBC,qBAAqB,EAAE,KAHA;EAIvBC,gBAAgB,EAAE,KAJK;EAKvBC,mBAAmB,EAAE,KALE;EAMvBC,eAAe,EAAE,IANM;EAOvBC,iBAAiB,EAAE;AAPI,CAAzB;AAUA,eAAenB,SAAf"}