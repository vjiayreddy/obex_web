{"version":3,"names":["createElement","h","Component","PropTypes","FileInputPlugin","propTypes","FileInput","componentDidMount","installPlugin","componentDidUpdate","prevProps","uppy","props","uninstallPlugin","componentWillUnmount","locale","pretty","inputName","options","id","target","container","use","plugin","getPlugin","removePlugin","render","className","ref","isRequired","bool","string","defaultProps","undefined"],"sources":["FileInput.js"],"sourcesContent":["import { createElement as h, Component } from 'react'\nimport PropTypes from 'prop-types'\nimport FileInputPlugin from '@uppy/file-input'\nimport * as propTypes from './propTypes.js'\n\n/**\n * React component that renders an area in which files can be dropped to be\n * uploaded.\n */\n\nclass FileInput extends Component {\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    // eslint-disable-next-line react/destructuring-assignment\n    if (prevProps.uppy !== this.props.uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const { uppy, locale, pretty, inputName } = this.props\n    const options = {\n      id: 'react:FileInput',\n      locale,\n      pretty,\n      inputName,\n      target: this.container,\n    }\n    delete options.uppy\n\n    uppy.use(FileInputPlugin, options)\n\n    this.plugin = uppy.getPlugin(options.id)\n  }\n\n  uninstallPlugin (props = this.props) {\n    const { uppy } = props\n\n    uppy.removePlugin(this.plugin)\n  }\n\n  render () {\n    return h('div', {\n      className: 'uppy-Container',\n      ref: (container) => {\n        this.container = container\n      },\n    })\n  }\n}\n\nFileInput.propTypes = {\n  uppy: propTypes.uppy.isRequired,\n  locale: propTypes.locale,\n  pretty: PropTypes.bool,\n  inputName: PropTypes.string,\n}\n// Must be kept in sync with @uppy/file-input/src/FileInput.jsx\nFileInput.defaultProps = {\n  locale: undefined,\n  pretty: true,\n  inputName: 'files[]',\n}\n\nexport default FileInput\n"],"mappings":"AAAA,SAASA,aAAa,IAAIC,CAA1B,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,eAAP,MAA4B,kBAA5B;AACA,OAAO,KAAKC,SAAZ,MAA2B,gBAA3B;AAEA;AACA;AACA;AACA;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;EAChCK,iBAAiB,GAAI;IACnB,KAAKC,aAAL;EACD;;EAEDC,kBAAkB,CAAEC,SAAF,EAAa;IAC7B;IACA,IAAIA,SAAS,CAACC,IAAV,KAAmB,KAAKC,KAAL,CAAWD,IAAlC,EAAwC;MACtC,KAAKE,eAAL,CAAqBH,SAArB;MACA,KAAKF,aAAL;IACD;EACF;;EAEDM,oBAAoB,GAAI;IACtB,KAAKD,eAAL;EACD;;EAEDL,aAAa,GAAI;IACf,MAAM;MAAEG,IAAF;MAAQI,MAAR;MAAgBC,MAAhB;MAAwBC;IAAxB,IAAsC,KAAKL,KAAjD;IACA,MAAMM,OAAO,GAAG;MACdC,EAAE,EAAE,iBADU;MAEdJ,MAFc;MAGdC,MAHc;MAIdC,SAJc;MAKdG,MAAM,EAAE,KAAKC;IALC,CAAhB;IAOA,OAAOH,OAAO,CAACP,IAAf;IAEAA,IAAI,CAACW,GAAL,CAASlB,eAAT,EAA0Bc,OAA1B;IAEA,KAAKK,MAAL,GAAcZ,IAAI,CAACa,SAAL,CAAeN,OAAO,CAACC,EAAvB,CAAd;EACD;;EAEDN,eAAe,CAAED,KAAF,EAAsB;IAAA,IAApBA,KAAoB;MAApBA,KAAoB,GAAZ,KAAKA,KAAO;IAAA;;IACnC,MAAM;MAAED;IAAF,IAAWC,KAAjB;IAEAD,IAAI,CAACc,YAAL,CAAkB,KAAKF,MAAvB;EACD;;EAEDG,MAAM,GAAI;IACR,OAAOzB,CAAC,CAAC,KAAD,EAAQ;MACd0B,SAAS,EAAE,gBADG;MAEdC,GAAG,EAAGP,SAAD,IAAe;QAClB,KAAKA,SAAL,GAAiBA,SAAjB;MACD;IAJa,CAAR,CAAR;EAMD;;AA9C+B;;AAiDlCf,SAAS,CAACD,SAAV,GAAsB;EACpBM,IAAI,EAAEN,SAAS,CAACM,IAAV,CAAekB,UADD;EAEpBd,MAAM,EAAEV,SAAS,CAACU,MAFE;EAGpBC,MAAM,EAAEb,SAAS,CAAC2B,IAHE;EAIpBb,SAAS,EAAEd,SAAS,CAAC4B;AAJD,CAAtB,C,CAMA;;AACAzB,SAAS,CAAC0B,YAAV,GAAyB;EACvBjB,MAAM,EAAEkB,SADe;EAEvBjB,MAAM,EAAE,IAFe;EAGvBC,SAAS,EAAE;AAHY,CAAzB;AAMA,eAAeX,SAAf"}