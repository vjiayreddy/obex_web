{"version":3,"names":["createElement","h","Component","DashboardPlugin","dashboard","basePropTypes","getHTMLProps","nonHtmlPropsHaveChanged","Dashboard","componentDidMount","installPlugin","componentDidUpdate","prevProps","uppy","props","uninstallPlugin","options","target","container","plugin","setOptions","componentWillUnmount","id","use","getPlugin","removePlugin","render","className","ref","propTypes","defaultProps","inline"],"sources":["Dashboard.js"],"sourcesContent":["import { createElement as h, Component } from 'react'\nimport DashboardPlugin from '@uppy/dashboard'\nimport { dashboard as basePropTypes } from './propTypes.js'\nimport getHTMLProps from './getHTMLProps.js'\nimport nonHtmlPropsHaveChanged from './nonHtmlPropsHaveChanged.js'\n\n/**\n * React Component that renders a Dashboard for an Uppy instance. This component\n * renders the Dashboard inline, so you can put it anywhere you want.\n */\n\nclass Dashboard extends Component {\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    // eslint-disable-next-line react/destructuring-assignment\n    if (prevProps.uppy !== this.props.uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    } else if (nonHtmlPropsHaveChanged(this.props, prevProps)) {\n      const options = { ...this.props, target: this.container }\n      delete options.uppy\n      this.plugin.setOptions(options)\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const { uppy } = this.props\n    const options = {\n      id: 'react:Dashboard',\n      ...this.props,\n      target: this.container,\n    }\n    delete options.uppy\n    uppy.use(DashboardPlugin, options)\n\n    this.plugin = uppy.getPlugin(options.id)\n  }\n\n  uninstallPlugin (props = this.props) {\n    const { uppy } = props\n\n    uppy.removePlugin(this.plugin)\n  }\n\n  render () {\n    return h('div', {\n      className: 'uppy-Container',\n      ref: (container) => {\n        this.container = container\n      },\n      ...getHTMLProps(this.props),\n    })\n  }\n}\n\nDashboard.propTypes = basePropTypes\n\nDashboard.defaultProps = {\n  inline: true,\n}\n\nexport default Dashboard\n"],"mappings":"AAAA,SAASA,aAAa,IAAIC,CAA1B,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,OAAOC,eAAP,MAA4B,iBAA5B;AACA,SAASC,SAAS,IAAIC,aAAtB,QAA2C,gBAA3C;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,uBAAP,MAAoC,8BAApC;AAEA;AACA;AACA;AACA;;AAEA,MAAMC,SAAN,SAAwBN,SAAxB,CAAkC;EAChCO,iBAAiB,GAAI;IACnB,KAAKC,aAAL;EACD;;EAEDC,kBAAkB,CAAEC,SAAF,EAAa;IAC7B;IACA,IAAIA,SAAS,CAACC,IAAV,KAAmB,KAAKC,KAAL,CAAWD,IAAlC,EAAwC;MACtC,KAAKE,eAAL,CAAqBH,SAArB;MACA,KAAKF,aAAL;IACD,CAHD,MAGO,IAAIH,uBAAuB,CAAC,KAAKO,KAAN,EAAaF,SAAb,CAA3B,EAAoD;MACzD,MAAMI,OAAO,GAAG,EAAE,GAAG,KAAKF,KAAV;QAAiBG,MAAM,EAAE,KAAKC;MAA9B,CAAhB;MACA,OAAOF,OAAO,CAACH,IAAf;MACA,KAAKM,MAAL,CAAYC,UAAZ,CAAuBJ,OAAvB;IACD;EACF;;EAEDK,oBAAoB,GAAI;IACtB,KAAKN,eAAL;EACD;;EAEDL,aAAa,GAAI;IACf,MAAM;MAAEG;IAAF,IAAW,KAAKC,KAAtB;IACA,MAAME,OAAO,GAAG;MACdM,EAAE,EAAE,iBADU;MAEd,GAAG,KAAKR,KAFM;MAGdG,MAAM,EAAE,KAAKC;IAHC,CAAhB;IAKA,OAAOF,OAAO,CAACH,IAAf;IACAA,IAAI,CAACU,GAAL,CAASpB,eAAT,EAA0Ba,OAA1B;IAEA,KAAKG,MAAL,GAAcN,IAAI,CAACW,SAAL,CAAeR,OAAO,CAACM,EAAvB,CAAd;EACD;;EAEDP,eAAe,CAAED,KAAF,EAAsB;IAAA,IAApBA,KAAoB;MAApBA,KAAoB,GAAZ,KAAKA,KAAO;IAAA;;IACnC,MAAM;MAAED;IAAF,IAAWC,KAAjB;IAEAD,IAAI,CAACY,YAAL,CAAkB,KAAKN,MAAvB;EACD;;EAEDO,MAAM,GAAI;IACR,OAAOzB,CAAC,CAAC,KAAD,EAAQ;MACd0B,SAAS,EAAE,gBADG;MAEdC,GAAG,EAAGV,SAAD,IAAe;QAClB,KAAKA,SAAL,GAAiBA,SAAjB;MACD,CAJa;MAKd,GAAGZ,YAAY,CAAC,KAAKQ,KAAN;IALD,CAAR,CAAR;EAOD;;AAhD+B;;AAmDlCN,SAAS,CAACqB,SAAV,GAAsBxB,aAAtB;AAEAG,SAAS,CAACsB,YAAV,GAAyB;EACvBC,MAAM,EAAE;AADe,CAAzB;AAIA,eAAevB,SAAf"}