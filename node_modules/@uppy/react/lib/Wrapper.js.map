{"version":3,"names":["createElement","h","Component","PropTypes","uppy","uppyPropType","UppyWrapper","constructor","props","refContainer","bind","componentDidMount","installPlugin","componentDidUpdate","prevProps","uninstallPlugin","componentWillUnmount","plugin","pluginObj","getPlugin","mount","container","unmount","render","className","ref","propTypes","isRequired","string"],"sources":["Wrapper.js"],"sourcesContent":["import { createElement as h, Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { uppy as uppyPropType } from './propTypes.js'\n\nclass UppyWrapper extends Component {\n  constructor (props) {\n    super(props)\n\n    this.refContainer = this.refContainer.bind(this)\n  }\n\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    const { uppy } = this.props\n    if (prevProps.uppy !== uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const { plugin, uppy } = this.props\n    const pluginObj = uppy\n      .getPlugin(plugin)\n\n    pluginObj.mount(this.container, pluginObj)\n  }\n\n  uninstallPlugin ({ uppy } = this.props) {\n    const { plugin } = this.props\n    uppy\n      .getPlugin(plugin)\n      .unmount()\n  }\n\n  refContainer (container) {\n    this.container = container\n  }\n\n  render () {\n    return h('div', { className: 'uppy-Container', ref: this.refContainer })\n  }\n}\n\nUppyWrapper.propTypes = {\n  uppy: uppyPropType.isRequired,\n  plugin: PropTypes.string.isRequired,\n}\n\nexport default UppyWrapper\n"],"mappings":"AAAA,SAASA,aAAa,IAAIC,CAA1B,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,IAAI,IAAIC,YAAjB,QAAqC,gBAArC;;AAEA,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;EAClCK,WAAW,CAAEC,KAAF,EAAS;IAClB,MAAMA,KAAN;IAEA,KAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;EACD;;EAEDC,iBAAiB,GAAI;IACnB,KAAKC,aAAL;EACD;;EAEDC,kBAAkB,CAAEC,SAAF,EAAa;IAC7B,MAAM;MAAEV;IAAF,IAAW,KAAKI,KAAtB;;IACA,IAAIM,SAAS,CAACV,IAAV,KAAmBA,IAAvB,EAA6B;MAC3B,KAAKW,eAAL,CAAqBD,SAArB;MACA,KAAKF,aAAL;IACD;EACF;;EAEDI,oBAAoB,GAAI;IACtB,KAAKD,eAAL;EACD;;EAEDH,aAAa,GAAI;IACf,MAAM;MAAEK,MAAF;MAAUb;IAAV,IAAmB,KAAKI,KAA9B;IACA,MAAMU,SAAS,GAAGd,IAAI,CACnBe,SADe,CACLF,MADK,CAAlB;IAGAC,SAAS,CAACE,KAAV,CAAgB,KAAKC,SAArB,EAAgCH,SAAhC;EACD;;EAEDH,eAAe,QAAyB;IAAA,IAAvB;MAAEX;IAAF,CAAuB,sBAAZ,KAAKI,KAAO;IACtC,MAAM;MAAES;IAAF,IAAa,KAAKT,KAAxB;IACAJ,IAAI,CACDe,SADH,CACaF,MADb,EAEGK,OAFH;EAGD;;EAEDb,YAAY,CAAEY,SAAF,EAAa;IACvB,KAAKA,SAAL,GAAiBA,SAAjB;EACD;;EAEDE,MAAM,GAAI;IACR,OAAOtB,CAAC,CAAC,KAAD,EAAQ;MAAEuB,SAAS,EAAE,gBAAb;MAA+BC,GAAG,EAAE,KAAKhB;IAAzC,CAAR,CAAR;EACD;;AA5CiC;;AA+CpCH,WAAW,CAACoB,SAAZ,GAAwB;EACtBtB,IAAI,EAAEC,YAAY,CAACsB,UADG;EAEtBV,MAAM,EAAEd,SAAS,CAACyB,MAAV,CAAiBD;AAFH,CAAxB;AAKA,eAAerB,WAAf"}