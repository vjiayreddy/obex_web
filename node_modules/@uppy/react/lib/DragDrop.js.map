{"version":3,"names":["createElement","h","Component","PropTypes","DragDropPlugin","propTypes","getHTMLProps","nonHtmlPropsHaveChanged","DragDrop","componentDidMount","installPlugin","componentDidUpdate","prevProps","uppy","props","uninstallPlugin","options","target","container","plugin","setOptions","componentWillUnmount","locale","inputName","width","height","note","id","use","getPlugin","removePlugin","render","className","ref","isRequired","string","defaultProps"],"sources":["DragDrop.js"],"sourcesContent":["import { createElement as h, Component } from 'react'\nimport PropTypes from 'prop-types'\nimport DragDropPlugin from '@uppy/drag-drop'\nimport * as propTypes from './propTypes.js'\nimport getHTMLProps from './getHTMLProps.js'\nimport nonHtmlPropsHaveChanged from './nonHtmlPropsHaveChanged.js'\n\n/**\n * React component that renders an area in which files can be dropped to be\n * uploaded.\n */\n\nclass DragDrop extends Component {\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    // eslint-disable-next-line react/destructuring-assignment\n    if (prevProps.uppy !== this.props.uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    } else if (nonHtmlPropsHaveChanged(this.props, prevProps)) {\n      const options = { ...this.props, target: this.container }\n      delete options.uppy\n      this.plugin.setOptions(options)\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const {\n      uppy,\n      locale,\n      inputName,\n      width,\n      height,\n      note,\n    } = this.props\n    const options = {\n      id: 'react:DragDrop',\n      locale,\n      inputName,\n      width,\n      height,\n      note,\n      target: this.container,\n    }\n    delete options.uppy\n\n    uppy.use(DragDropPlugin, options)\n\n    this.plugin = uppy.getPlugin(options.id)\n  }\n\n  uninstallPlugin (props = this.props) {\n    const { uppy } = props\n\n    uppy.removePlugin(this.plugin)\n  }\n\n  render () {\n    return h('div', {\n      className: 'uppy-Container',\n      ref: (container) => {\n        this.container = container\n      },\n      ...getHTMLProps(this.props),\n    })\n  }\n}\n\nDragDrop.propTypes = {\n  uppy: propTypes.uppy.isRequired,\n  locale: propTypes.locale,\n  inputName: PropTypes.string,\n  width: PropTypes.string,\n  height: PropTypes.string,\n  note: PropTypes.string,\n}\n// Must be kept in sync with @uppy/drag-drop/src/DragDrop.jsx.\nDragDrop.defaultProps = {\n  locale: null,\n  inputName: 'files[]',\n  width: '100%',\n  height: '100%',\n  note: null,\n}\n\nexport default DragDrop\n"],"mappings":"AAAA,SAASA,aAAa,IAAIC,CAA1B,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,cAAP,MAA2B,iBAA3B;AACA,OAAO,KAAKC,SAAZ,MAA2B,gBAA3B;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,uBAAP,MAAoC,8BAApC;AAEA;AACA;AACA;AACA;;AAEA,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;EAC/BO,iBAAiB,GAAI;IACnB,KAAKC,aAAL;EACD;;EAEDC,kBAAkB,CAAEC,SAAF,EAAa;IAC7B;IACA,IAAIA,SAAS,CAACC,IAAV,KAAmB,KAAKC,KAAL,CAAWD,IAAlC,EAAwC;MACtC,KAAKE,eAAL,CAAqBH,SAArB;MACA,KAAKF,aAAL;IACD,CAHD,MAGO,IAAIH,uBAAuB,CAAC,KAAKO,KAAN,EAAaF,SAAb,CAA3B,EAAoD;MACzD,MAAMI,OAAO,GAAG,EAAE,GAAG,KAAKF,KAAV;QAAiBG,MAAM,EAAE,KAAKC;MAA9B,CAAhB;MACA,OAAOF,OAAO,CAACH,IAAf;MACA,KAAKM,MAAL,CAAYC,UAAZ,CAAuBJ,OAAvB;IACD;EACF;;EAEDK,oBAAoB,GAAI;IACtB,KAAKN,eAAL;EACD;;EAEDL,aAAa,GAAI;IACf,MAAM;MACJG,IADI;MAEJS,MAFI;MAGJC,SAHI;MAIJC,KAJI;MAKJC,MALI;MAMJC;IANI,IAOF,KAAKZ,KAPT;IAQA,MAAME,OAAO,GAAG;MACdW,EAAE,EAAE,gBADU;MAEdL,MAFc;MAGdC,SAHc;MAIdC,KAJc;MAKdC,MALc;MAMdC,IANc;MAOdT,MAAM,EAAE,KAAKC;IAPC,CAAhB;IASA,OAAOF,OAAO,CAACH,IAAf;IAEAA,IAAI,CAACe,GAAL,CAASxB,cAAT,EAAyBY,OAAzB;IAEA,KAAKG,MAAL,GAAcN,IAAI,CAACgB,SAAL,CAAeb,OAAO,CAACW,EAAvB,CAAd;EACD;;EAEDZ,eAAe,CAAED,KAAF,EAAsB;IAAA,IAApBA,KAAoB;MAApBA,KAAoB,GAAZ,KAAKA,KAAO;IAAA;;IACnC,MAAM;MAAED;IAAF,IAAWC,KAAjB;IAEAD,IAAI,CAACiB,YAAL,CAAkB,KAAKX,MAAvB;EACD;;EAEDY,MAAM,GAAI;IACR,OAAO9B,CAAC,CAAC,KAAD,EAAQ;MACd+B,SAAS,EAAE,gBADG;MAEdC,GAAG,EAAGf,SAAD,IAAe;QAClB,KAAKA,SAAL,GAAiBA,SAAjB;MACD,CAJa;MAKd,GAAGZ,YAAY,CAAC,KAAKQ,KAAN;IALD,CAAR,CAAR;EAOD;;AA5D8B;;AA+DjCN,QAAQ,CAACH,SAAT,GAAqB;EACnBQ,IAAI,EAAER,SAAS,CAACQ,IAAV,CAAeqB,UADF;EAEnBZ,MAAM,EAAEjB,SAAS,CAACiB,MAFC;EAGnBC,SAAS,EAAEpB,SAAS,CAACgC,MAHF;EAInBX,KAAK,EAAErB,SAAS,CAACgC,MAJE;EAKnBV,MAAM,EAAEtB,SAAS,CAACgC,MALC;EAMnBT,IAAI,EAAEvB,SAAS,CAACgC;AANG,CAArB,C,CAQA;;AACA3B,QAAQ,CAAC4B,YAAT,GAAwB;EACtBd,MAAM,EAAE,IADc;EAEtBC,SAAS,EAAE,SAFW;EAGtBC,KAAK,EAAE,MAHe;EAItBC,MAAM,EAAE,MAJc;EAKtBC,IAAI,EAAE;AALgB,CAAxB;AAQA,eAAelB,QAAf"}